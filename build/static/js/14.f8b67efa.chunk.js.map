{"version":3,"sources":["views/forms/list/list.js"],"names":["CreateForm","props","useState","forms","setForms","dispatch","useDispatch","useEffect","axios","get","then","res","data","columns","useMemo","name","selector","sortable","grow","center","compact","wrap","style","cell","row","index","column","id","onClick","form","history","push","_id","put","filter","item","published","catch","err","alert","components","map","component","users","Set","pop","type","val","window","confirm","delete","title","defaultSortFieldId","pagination","highlightOnHover","striped","pointerOnHover","customStyles","rows","minHeight","fontSize","headCells","paddingLeft","paddingRight","cells"],"mappings":"iTAMe,SAASA,EAAWC,GAC/B,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACMC,EAAWC,cAuBjBC,qBAAU,WACNC,IAAMC,IAAN,cAAwBC,MAAK,SAAAC,GAEzBP,EAASO,EAAIC,WAElB,IAEH,IAgDMC,EAAUC,mBACZ,iBAAM,CACN,CAAEC,KAAM,QAASC,SAAU,aAAcC,UAAU,GACnD,CACIF,KAAK,UACLG,KAAK,EACLC,QAAO,EACPC,SAAQ,EACRC,MAAK,EACLC,MAAM,GAGNC,KAAM,SAACC,EAAIC,EAAMC,EAAOC,GAAlB,OACN,qCACC,wBAAQL,MAAO,CAAC,YAAc,OAAO,QAAU,YAAY,OAAS,OAAO,WAAa,OAAO,MAAQ,QAAQ,aAAe,OAAO,SAAW,QAASM,QAAS,kBAhDzJC,EAgDwKL,OA/CtLvB,EAAM6B,QAAQC,KAAd,wBAAoCF,EAAKG,MAD5B,IAACH,GAgDT,kBACA,wBAAQP,MAAO,CAAC,YAAc,OAAO,QAAU,YAAY,OAAS,OAAO,WAAa,OAAO,MAAQ,QAAQ,aAAe,OAAO,SAAW,QAASM,QAAS,kBA7CpJC,EA6CsKL,OA5CzLhB,IAAMyB,IAAN,gBAAoBJ,EAAKG,IAAzB,YAAuC,IAAItB,MAAK,SAAAC,GAC5CP,EAASD,EAAM+B,QAAO,SAAAC,GAIjB,OAHGA,EAAKH,MAAQH,EAAKG,MACjBG,EAAKC,UAAYzB,EAAIC,KAAKwB,YAEvB,SAEbC,OAAM,SAAAC,GACLC,MAAM,sBATQ,IAACV,GA6Cd,SAA2LL,EAAIY,UAAU,aAAa,YACtN,wBAAQd,MAAO,CAAC,YAAc,OAAO,QAAU,YAAY,OAAS,OAAO,WAAa,UAAU,MAAQ,QAAQ,aAAe,OAAO,SAAW,QAASM,QAAS,kBAjC5JC,EAiC2KL,OAhCzLhB,IAAMC,IAAN,sBAA0BoB,EAAKG,MAAOtB,MAAK,SAAAC,GACvC,IAAI6B,EAAU,YAAO7B,EAAIC,KAAKiB,KAAKA,KAAKW,WAAWC,KAAI,SAAAC,GAEnD,OADAA,EAAUC,MAAQ,IAAIC,IAAIF,EAAUC,OAC7BD,MAEfF,EAAWK,MACXxC,EAAS,CAACyC,KAAK,iBAAiBC,IAAIP,IAEpCvC,EAAM6B,QAAQC,KAAd,qBAAiCF,EAAKG,KAAM,CAACH,KAAKlB,EAAIC,KAAKiB,UAExDQ,OAAM,SAAAC,GACLC,MAAM,gBAZG,IAACV,GAiCT,kBACA,wBAASP,MAAO,CAAC,QAAU,YAAY,OAAS,OAAO,WAAa,UAAU,MAAQ,QAAQ,aAAe,OAAO,SAAW,QAASM,QAAS,kBAjEtIC,EAiEuJL,OA9DnKwB,OAAOC,QAAQ,oCACnBzC,IAAM0C,OAAN,uBAA6BrB,EAAKG,MAAOtB,MAAK,SAAAC,GAC1CP,EAASD,EAAM+B,QAAO,SAAAC,GAClB,OAAOA,EAAKH,MAAQH,EAAKG,WAE9BK,OAAM,SAAAC,GACLC,MAAM,uBATK,IAACV,GAiEX,6BAKT,OACI,8BACI,cAAC,IAAD,CACQsB,MAAM,QACNtC,QAASA,EACTD,KAAMT,EACNiD,mBAAoB,EACpBC,YAAU,EACVC,kBAAgB,EAChBC,SAAO,EACPC,gBAAc,EACdC,aA7GK,CACjBC,KAAM,CACJpC,MAAO,CACLqC,UAAW,OACXC,SAAS,SAGbC,UAAW,CACTvC,MAAO,CACLwC,YAAa,MACbC,aAAc,QAGlBC,MAAO,CACL1C,MAAO,CACLwC,YAAa,MACbC,aAAc","file":"static/js/14.f8b67efa.chunk.js","sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport axios from 'axios';\nimport DataTable from 'react-data-table-component';\n\n\nexport default function CreateForm(props) {\n    const [forms, setForms] = useState([])\n    const dispatch = useDispatch()\n\n    const customStyles = {\n        rows: {\n          style: {\n            minHeight: '80px', // override the row height\n            fontSize:'17px',\n          }\n        },\n        headCells: {\n          style: {\n            paddingLeft: '8px', // override the cell padding for head cells\n            paddingRight: '8px',\n          },\n        },\n        cells: {\n          style: {\n            paddingLeft: '8px', // override the cell padding for data cells\n            paddingRight: '8px',\n          },\n        },\n      };\n\n    useEffect(() => {\n        axios.get(`/form/list`).then(res =>{\n            // console.log(res.data)\n            setForms(res.data)\n        });\n    }, []);\n\n    const handleDelete=(form)=> {\n        // console.log(row)\n        // console.log(\"Handle delete\")\n        if (window.confirm(\"Are u Sure you want delete it ?\"))\n        axios.delete(`/form/delete/${form._id}`).then(res=>{\n            setForms(forms.filter(item=>{\n                return item._id !== form._id\n            }))\n        }).catch(err=>{\n            alert(\"Something Wrong\")\n        })\n\n    };\n\n    const handleShow=(form)=> {\n        props.history.push(`/form/display/${form._id}`);\n \n    };\n    const handlePublish = (form)=>{\n        axios.put(`/form/${ form._id}/publish`,{}).then(res=>{\n            setForms(forms.filter(item=>{\n                 if(item._id === form._id){\n                     item.published = res.data.published\n                 }\n                 return true\n            }))\n        }).catch(err=>{\n            alert(\"Something Wrong\")\n        })\n    }\n\n    const handleEdit=(form)=> {\n        axios.get(`/form/admin/${ form._id}`).then(res=>{\n            let components = [...res.data.form.form.components.map(component=>{\n                component.users = new Set(component.users);\n                return component\n            })]\n        components.pop();\n        dispatch({type:'add-components',val:components})\n\n        props.history.push(`/form/edit/${form._id}`,{form:res.data.form});\n            \n        }).catch(err=>{\n            alert(\"Not Found\")\n        })\n        \n    };\n    \n    const columns = useMemo(\n        () => [ \n        { name: \"Title\", selector: \"form.title\", sortable: true },\n        {\n            name:\"Actions\",\n            grow:2,\n            center:true,\n            compact:true,\n            wrap:true,\n            style:{\n                \n            },\n            cell: (row,index,column,id) =>\n            <> \n             <button style={{'marginRight':'10px',\"padding\":\"10px 16px\",\"border\":\"none\",\"background\":\"gray\",\"color\":\"white\",\"borderRadius\":\"50em\",\"fontSize\":\"14px\"}} onClick={()=>handleShow(row)}>Show</button>\n             <button style={{'marginRight':'10px',\"padding\":\"10px 16px\",\"border\":\"none\",\"background\":\"gray\",\"color\":\"white\",\"borderRadius\":\"50em\",\"fontSize\":\"14px\"}} onClick={()=>handlePublish(row)}>{row.published?'Un-Publish':'Publish'}</button>\n             <button style={{'marginRight':'10px',\"padding\":\"10px 16px\",\"border\":\"none\",\"background\":\"#007bff\",\"color\":\"white\",\"borderRadius\":\"50em\",\"fontSize\":\"14px\"}} onClick={()=>handleEdit(row)}>Edit</button>\n             <button  style={{\"padding\":\"10px 16px\",\"border\":\"none\",\"background\":\"#dc3545\",\"color\":\"white\",\"borderRadius\":\"50em\",\"fontSize\":\"14px\"}} onClick={()=>handleDelete(row)}>Delete</button>\n            </>\n        },\n      ])\n\n    return (\n        <div>\n            <DataTable\n                    title=\"Forms\"\n                    columns={columns}\n                    data={forms}\n                    defaultSortFieldId={1}\n                    pagination\n                    highlightOnHover\n                    striped\n                    pointerOnHover\n                    customStyles={customStyles}\n                    />\n\n        </div>\n    );\n  \n}"],"sourceRoot":""}