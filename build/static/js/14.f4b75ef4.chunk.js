(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[14],{2049:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var o=n(174),i=n(1572),r=n(2),c=n(225),a=n.n(c),d=n(1609),u=n.n(d),l=n(338),s=n(54);function p(e){var t=Object(r.useState)([]),n=Object(i.a)(t,2),c=n[0],d=n[1],p=Object(l.b)();Object(r.useEffect)((function(){a.a.get("/form/list").then((function(e){console.log(e.data),d(e.data)}))}),[]);var f=Object(r.useMemo)((function(){return[{name:"Title",selector:"form.title",sortable:!0},{name:"Actions",grow:2,center:!0,compact:!0,wrap:!0,style:{},cell:function(t,n,i,r){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",{style:{marginRight:"10px",padding:"10px 16px",border:"none",background:"gray",color:"white",borderRadius:"50em",fontSize:"14px"},onClick:function(){return n=t,void e.history.push("/form/display/".concat(n._id));var n},children:"Show"}),Object(s.jsx)("button",{style:{marginRight:"10px",padding:"10px 16px",border:"none",background:"gray",color:"white",borderRadius:"50em",fontSize:"14px"},onClick:function(){return e=t,void a.a.put("/form/".concat(e._id,"/publish"),{}).then((function(t){d(c.filter((function(n){return n._id===e._id&&(n.published=t.data.published),!0})))})).catch((function(e){alert("Something Wrong")}));var e},children:t.published?"Un-Publish":"Publish"}),Object(s.jsx)("button",{style:{marginRight:"10px",padding:"10px 16px",border:"none",background:"#007bff",color:"white",borderRadius:"50em",fontSize:"14px"},onClick:function(){return n=t,void a.a.get("/form/admin/".concat(n._id)).then((function(t){var i=Object(o.a)(t.data.form.form.components.map((function(e){return e.users=new Set(e.users),e})));i.pop(),p({type:"add-components",val:i}),e.history.push("/form/edit/".concat(n._id),{form:t.data.form})})).catch((function(e){alert("Not Found")}));var n},children:"Edit"}),Object(s.jsx)("button",{style:{padding:"10px 16px",border:"none",background:"#dc3545",color:"white",borderRadius:"50em",fontSize:"14px"},onClick:function(){return e=t,console.log("Handle delete"),void(window.confirm("Are u Sure you want delete it ?")&&a.a.delete("/form/delete/".concat(e._id)).then((function(t){d(c.filter((function(t){return t._id!==e._id})))})).catch((function(e){alert("Something Wrong")})));var e},children:"Delete"})]})}}]}));return Object(s.jsx)("div",{children:Object(s.jsx)(u.a,{title:"Forms",columns:f,data:c,defaultSortFieldId:1,pagination:!0,highlightOnHover:!0,striped:!0,pointerOnHover:!0,customStyles:{rows:{style:{minHeight:"80px",fontSize:"17px"}},headCells:{style:{paddingLeft:"8px",paddingRight:"8px"}},cells:{style:{paddingLeft:"8px",paddingRight:"8px"}}}})})}}}]);
//# sourceMappingURL=14.f4b75ef4.chunk.js.map