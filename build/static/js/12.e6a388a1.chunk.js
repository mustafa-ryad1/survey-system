(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[12],{1572:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(339);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,s=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(i){a=!0,s=i}finally{try{r||null==o.return||o.return()}finally{if(a)throw s}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2051:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n(174),a=n(1572),s=n(2),c=n(227),o=n(225),i=n.n(o),l=n(1576),u=n(338),d=n(54);function m(e){var t=e.location.state.form,n=Object(s.useState)(t.form),o=Object(a.a)(n,2),m=o[0],h=(o[1],Object(s.useState)([])),b=Object(a.a)(h,2),j=b[0],f=b[1],p=Object(u.c)((function(e){return e.permissionReducer})),g=Object(u.b)();Object(s.useEffect)((function(){i.a.get("/user/list").then((function(e){f(e.data.usersData)})).catch((function(e){f([])}))}),[]);return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Edit Form"}),Object(d.jsx)("hr",{}),Object(d.jsx)(c.FormEdit,{saveText:"Edit Form",form:m,saveComponent:function(e){e.users=new Set,g({type:"add-component",val:e})},deleteComponent:function(e){g({type:"remove-component",val:e})},saveForm:function(n){n.title?(n.components=[].concat(Object(r.a)(p.map((function(e){return e.users=Array.from(e.users),e}))),[n.components.pop()]),i.a.put("/form/edit/".concat(t._id),n).then((function(n){e.history.push("/form/display/".concat(t._id))})).catch((function(e){alert("Something Wrong")}))):alert("you should add title")},options:{builder:{layout:!1,data:!1,basic:!1,advanced:!1,premium:!1,customBasic:{title:"Elements",default:!0,weight:0,components:{textfield:!0,datetime:!0,day:!0,time:!0,textarea:!0,uploadImage:{title:"Upload Image",icon:"image",schema:{storage:"base64",label:"Image",image:!0,type:"file",key:"image",input:!0}},uploadImages:{title:"Upload Images",icon:"image",schema:{storage:"base64",label:"Images",image:!0,type:"file",key:"images",input:!0,multiple:!0,persistent:!1}}}}}}}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Permissions"}),Object(d.jsx)(l.l,{xs:12,children:Object(d.jsx)(l.g,{className:"mb-4",children:Object(d.jsxs)(l.h,{children:[Object(d.jsx)("p",{className:"text-medium-emphasis small",children:"This Table to handle permssions on form"}),Object(d.jsxs)("table",{className:"table",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{}),j.map((function(e){return Object(d.jsx)("th",{children:e.username})}))]})}),Object(d.jsx)("tbody",{children:p.map((function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.label}),j.map((function(t){return Object(d.jsx)("td",{children:e.users&&e.users.has(t.username)?Object(d.jsx)(l.R,{className:"mx-1",variant:"3d",color:"primary",defaultChecked:!0,onChange:function(n){n.target.checked?(n.target.checked=!1,e.users.add(t.username),console.log(e.users)):(e.users.delete(t.username),console.log(e.users))}}):Object(d.jsx)(l.R,{className:"mx-1",variant:"3d",color:"primary",onChange:function(n){n.target.checked?(n.target.checked=!0,e.users.add(t.username),console.log(e.users)):(n.target.checked=!1,e.users.delete(t.username),console.log(e.users))}})})}))]})})}))})]})]})})})]})]})}}}]);
//# sourceMappingURL=12.e6a388a1.chunk.js.map